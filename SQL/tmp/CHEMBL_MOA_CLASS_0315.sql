create or replace view chembl_moa_class as
(select a.molregno as rac_molregno,
       'frac' as rac_class_category,
       a.mw_freebase as rac_mw_freebase,
       a.alogp as rac_alogp,
       a.hba as rac_hba,
       a.hbd as rac_dbd,
       a.psa as rac_psa,
       a.rtb as rac_rtb,
       a.ro3_pass as rac_ro3_pass,
       a.num_ro5_violations as rac_num_ro5_violations,
       a.acd_most_apka as rac_acd_most_apka,
       a.acd_most_bpka as rac_acd_most_bpka,
       a.acd_logp as rac_acd_logp,
       a.acd_logd as rac_acd_logd,
       a.molecular_species as rac_molecular_species,
       a.full_mwt as rac_full_mwt,
       a.aromatic_rings as rac_aromatic_rings,
       a.heavy_atoms as rac_heavy_atoms,
       a.num_alerts as rac_num_alerts,
       a.qed_weighted as rac_qed_weighted,
       a.mw_monoisotopic as rac_mw_monoisotopic,
       a.full_molformula as rac_full_molformula,
       a.hba_lipinski as rac_hba_lipinski,
       a.hbd_lipinski as rac_hbd_lipinski,
       a.num_lipinski_ro5_violations as rac_num_lipinski_ro5,
       c.frac_class_id as rac_class_id,
       c.active_ingredient as rac_active_ingredient,
       c.level1 as rac_level1,
       c.level1_description as rac_level1_description,
       c.level2 as rac_level2,
       c.level2_description as rac_level2_description,
       c.level3 as rac_level3,
       c.level3_description as rac_level3_description,
       c.level4 as rac_level4,
       c.level4_description as rac_level4_description,
       c.level5 as rac_level5,
       c.frac_code as rac_code
  from ((compound_properties a
  inner join molecule_frac_classification b on a.molregno = b.molregno)
  inner join frac_classification c on b.frac_class_id = c.frac_class_id))
  union all
  (select a.molregno as rac_molregno,
       'hrac' as rac_class_category,
       a.mw_freebase as rac_mw_freebase,
       a.alogp as rac_alogp,
       a.hba as rac_hba,
       a.hbd as rac_dbd,
       a.psa as rac_psa,
       a.rtb as rac_rtb,
       a.ro3_pass as rac_ro3_pass,
       a.num_ro5_violations as rac_num_ro5_violations,
       a.acd_most_apka as rac_acd_most_apka,
       a.acd_most_bpka as rac_acd_most_bpka,
       a.acd_logp as rac_acd_logp,
       a.acd_logd as rac_acd_logd,
       a.molecular_species as rac_molecular_species,
       a.full_mwt as rac_full_mwt,
       a.aromatic_rings as rac_aromatic_rings,
       a.heavy_atoms as rac_heavy_atoms,
       a.num_alerts as rac_num_alerts,
       a.qed_weighted as rac_qed_weighted,
       a.mw_monoisotopic as rac_mw_monoisotopic,
       a.full_molformula as rac_full_molformula,
       a.hba_lipinski as rac_hba_lipinski,
       a.hbd_lipinski as rac_hbd_lipinski,
       a.num_lipinski_ro5_violations as rac_num_lipinski_ro5,
       c.hrac_class_id as rac_class_id,
       c.active_ingredient as rac_active_ingredient,
       c.level1 as rac_level1,
       c.level1_description as rac_level1_description,
       c.level2 as rac_level2,
       c.level2_description as rac_level2_description,
       c.level3 as rac_level3,
       '' as rac_level3_description,
       '' as rac_level4,
       '' as rac_level4_description,
       '' as rac_level5,
       c.hrac_code as rac_code
  from ((compound_properties a
  inner join  molecule_hrac_classification b on a.molregno = b.molregno)
  inner join  hrac_classification c on b.hrac_class_id = c.hrac_class_id))
  union all
  (
  select a.molregno as rac_molregno,
       'irac' as rac_class_category,
       a.mw_freebase as rac_mw_freebase,
       a.alogp as rac_alogp,
       a.hba as rac_hba,
       a.hbd as rac_dbd,
       a.psa as rac_psa,
       a.rtb as rac_rtb,
       a.ro3_pass as rac_ro3_pass,
       a.num_ro5_violations as rac_num_ro5_violations,
       a.acd_most_apka as rac_acd_most_apka,
       a.acd_most_bpka as rac_acd_most_bpka,
       a.acd_logp as rac_acd_logp,
       a.acd_logd as rac_acd_logd,
       a.molecular_species as rac_molecular_species,
       a.full_mwt as rac_full_mwt,
       a.aromatic_rings as rac_aromatic_rings,
       a.heavy_atoms as rac_heavy_atoms,
       a.num_alerts as rac_num_alerts,
       a.qed_weighted as rac_qed_weighted,
       a.mw_monoisotopic as rac_mw_monoisotopic,
       a.full_molformula as rac_full_molformula,
       a.hba_lipinski as rac_hba_lipinski,
       a.hbd_lipinski as rac_hbd_lipinski,
       a.num_lipinski_ro5_violations as rac_num_lipinski_ro5,
       c.irac_class_id as rac_class_id,
       c.active_ingredient as rac_active_ingredient,
       c.level1 as rac_level1,
       c.level1_description as rac_level1_description,
       c.level2 as rac_level2,
       c.level2_description as rac_level2_description,
       c.level3 as rac_level3,
       c.level3_description as rac_level3_description,
       c.level4 as rac_level4,
       '' as rac_level4_description,
       '' as rac_level5,
       c.irac_code as rac_code
  from ((compound_properties a
  inner join molecule_irac_classification b on a.molregno = b.molregno)
  inner join irac_classification c on b.irac_class_id = c.irac_class_id)
  );
